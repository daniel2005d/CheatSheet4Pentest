# adb

```bash
adb shell pm list packages # Lista los paquetes instalados
adb shell pm path <com.xxxxx> # Ver la ruta del paquete especificado
adb pull <path> # Obtiene el apk. Generalemente se toma el base.apk
```

#### Instalación de Certificado BURP

```bash
emulator -avd <Imagen> -writable-system
```

```bash
Generar el certificado de BURP
~: openssl x509 -inform DER -in cacert.der -out cacert.pem  
~: openssl x509 -inform PEM -subject_hash_old -in cacert.pem |head -1  
~: mv cacert.pem <hash>.0
~: adb root
~: adb push <hash>.0 /sdcard
~: adb shell
mobil:/# mount -o rw,remount /system
mobil:/# mv /sdcard/<hash>.0 /system/etc/security/cacerts/
mobil:/# chmod 644 /system/etc/security/cacerts/<hash>.0

```

Se puede presentar un error de montaje, **mount: /system not in /proc/mount**

```bash
adb root
adb shell avbctl disable-verification
>> Successfully disabled verification. Reboot the device for changes to take effect.
adb disable-verity
>> using overlayfs
>> Successfully disabled verity
>> Now reboot your device for settings to take effect
adb reboot
adb root && adb remount
>> remount succeeded
```

#### Crear backup

{% hint style="info" %}
Solo funciona si la opcion android:allowBackup="true", esta establecida
{% endhint %}

```bash
adb backup <paquete>
# con la Herramienta abe-all.jar, se puede extraer dicho contenido
java -jar abd-all.jar unpack backup.ab backup.tar <password que se puso en el telefono al momento de hacer el backup>
```

{% embed url="https://github.com/nelenkov/android-backup-extractor" %}

```bash
adb shell getprop ro.product.cpu.abi # Extraer tipo de procesdor
```

### Enviar comandos



```bash
adb shell input keyevent <código|constante>
```

Constantes:

KEYCODE\_TAB

KEYCODE\_ENTER
