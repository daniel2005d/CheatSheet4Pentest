# OpenSSL

#### Obtener Nombres de Dominio

```shell
openssl s_client -connect <site> 2>/dev/null | openssl x509 -noout -text | perl -l -0777 -ne '@names=/\bDNS:([^\s,]+)/g; print join("\n", sort @names);'
```

```bash
openssl x509 -in <certificado>.crt -pubkey -noout # Ver llave publica
openssl pkey -in <key>.key  # Ver llave privada
openssl pkcs12 -info -in <certificate>.p12 #Ver información del p12
```

#### Generar Certificalo de Cliente

```bash
openssl genrsa -out client.key 
openssl req -new -key client.key -out client.csr # Certified Signing Request
openssl x509 -req -in client.csr -CA <server>.crt -CAkey <server>.key -set_serial 9001 -extensions client -days 9002 -outform pem -out client.cer

# Firefox no deja importar este formato de certificado, por ende se debe generar un P12
openssl pkcs12 -export -inkey client.key -in client.cer -out client.p12
```

| Comando                                                              | Descripción                                |
| -------------------------------------------------------------------- | ------------------------------------------ |
| openssl rsa -in  -passin **\<llaveprivada>** -passin **\<password>** | Valida la clave contrase una llave privada |
