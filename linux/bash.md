# Bash

## Generales

```bash
{#variable} #Tamaño
{variable:inicio:cantidad} #substring
```

### Terminal Completa sin Python

```bash
script -q /dev/null bash
```

```bash
script -q /dev/null /bin/bash
stty raw -echo ; fg
# bash
```

#### Formato Fecha

```bash
date +%s%3N # Miliseguntos %3N 3 digitos de los nanosegundos
```

### Atajos

```bash
echo $? # Si es 1 es error, si es 0 es OK
!$ # Establece o escribe la última instrucción realizada
```

### Comparaciones

![](<../.gitbook/assets/image (12).png>)

### Descubrimiento de Host

```bash
#!/bin/bash
for i in $(seq 1 255); do
    timeout 1 bash -c "ping -c 1 x.x.x.$i" > /dev/null 2>&1 && echo "IP x.x.x.$i FOUND" &
done; wait

```

#### Permisos de Escritura

```bash
find . -type dir | while read dir ; do touch "$dir/cyberbob.txt" 2>/dev/null && echo "$dir"; done
```

#### Escáner de Puertos

```bash
#!/bin/bash
for port in $(seq 1 65535); do
    timeout 1 bash -c "echo > /dev/tcp/<ip>/$port" 2>/dev/null && echo "Port $port FOUND"
done;wait
```

```bash
cat file.txt | while read i; do ... ;done # Leer linea por linea

```
